{"version":3,"sources":["api/api.js","components/Loader/Loader.jsx","components/Post/Post.jsx","components/PostsList/PostsList.jsx","components/NewCommentForm/NewCommentForm.jsx","components/Comments/Comments.jsx","components/PostDetails/PostDetails.jsx","components/UserSelect/UserSelect.jsx","App.jsx","index.js"],"names":["BASE_URL","getUserPosts","a","fetch","response","json","result","data","getDateilPosts","postId","getComments","remove","url","options","then","request","method","addComment","name","email","body","headers","JSON","stringify","Loader","className","Post","title","userId","selectedUSerId","id","selectedPost","resetUSer","hidden","type","onClick","PostsList","selectedUser","useState","users","setUsers","isPrepered","setISPrepered","useEffect","filter","post","map","user","key","NewCommentForm","editComment","userName","setName","setEmail","setBody","handleChange","event","target","value","onSubmit","preventDefault","placeholder","onChange","Comments","comment","handleDeleteComment","PostDetails","isLoading","setIsLoading","isDisable","setIsDiseble","details","setDetails","setComment","useCallback","Promise","all","detailsData","commentData","getPostDetailsData","length","item","UserSelect","onSelectUser","App","setSelectedUser","setSelectedPost","selectUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca098da4.chunk.js","sourcesContent":["export const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const getUserPosts = async() => {\n  const response = await fetch(`${BASE_URL}/posts`);\n  const result = await response.json();\n  const { data } = result;\n\n  return data;\n};\n\nexport const getDateilPosts = async(postId) => {\n  const response = await fetch(`${BASE_URL}/posts/${postId}`);\n  const result = await response.json();\n  const { data } = result;\n\n  return data;\n};\n\nexport const getComments = async(postId) => {\n  const response = await fetch(`${BASE_URL}/comments?postId=${postId}`);\n  const result = await response.json();\n  const { data } = result;\n\n  return data;\n};\n\nconst request = (url, options) => fetch(`${BASE_URL}${url}`, options)\n  .then(response => response.json())\n  .then(result => result.data);\n\nconst remove = (url) => {\n  request(url, { method: 'DELETE' });\n};\n\nexport const removeComment = id => remove(`/comments/${id}`);\nexport const addComment = (name, email, body, postId) => fetch(\n  `${BASE_URL}/comments`, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      name,\n      email,\n      body,\n      postId,\n    }),\n  },\n);\n","import React from 'react';\r\nimport './Loader.scss';\r\n\r\nexport const Loader = () => (\r\n  <div className=\"Loader\">\r\n    <div className=\"Loader__content\" />\r\n  </div>\r\n);\r\n","import React from 'react';\n\nexport const Post = ({ title, userId, selectedUSerId, id, selectedPost, resetUSer }) => {\n  return (\n    <li>\n      <div>\n        <b>{`User #${userId}:`}</b>\n        {title}\n      </div>\n      <button\n        hidden={id === selectedPost}\n        type=\"button\"\n        className=\"PostsList__button button hidden\"\n        onClick={() => selectedUSerId(id)}\n      >\n        Open\n      </button>\n      <button\n        type=\"button\"\n        className=\"PostsList__button button\"\n        hidden={id !== selectedPost}\n        onClick={resetUSer}\n      >\n        Close\n      </button>\n    </li>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { getUserPosts } from '../../api/api';\nimport './PostsList.scss';\nimport { Loader } from '../Loader/Loader';\nimport { Post } from '../Post/Post';\n\nexport const PostsList = ({ selectedUser, selectedUSerId, selectedPost, resetUSer }) => {\n  const [users, setUsers] = useState([]);\n  const [isPrepered, setISPrepered] = useState(false);\n\n  useEffect(() => {\n    setISPrepered(true);\n\n    (async() => {\n      const data = await getUserPosts();\n\n      if (selectedUser) {\n        setUsers(data.filter(post => selectedUser === post.id));\n\n        setISPrepered(false);\n\n        return;\n      }\n\n      setUsers(data);\n      setISPrepered(false);\n    })();\n  });\n\n  return !isPrepered\n    ? (<Loader />)\n    : (\n      <div className=\"PostsList\">\n        <h2>Posts:</h2>\n\n        <ul className=\"PostsList__list\">\n          {users.map(user => (\n            <Post\n              key={user.id}\n              id={user.id}\n              title={user.title}\n              userId={user.userId}\n              selectedUSerId={selectedUSerId}\n              selectedPost={selectedPost}\n              resetUSer={resetUSer}\n            />\n          ))}\n        </ul>\n      </div>\n    );\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { addComment, getComments } from '../../api/api';\nimport './NewCommentForm.scss';\n\nexport const NewCommentForm = ({ selectedPost, editComment }) => {\n  const [userName, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [body, setBody] = useState('');\n\n  const handleChange = (event) => {\n    const { value, name } = event.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'email':\n        setEmail(value);\n        break;\n      default:\n        setBody(value);\n    }\n  };\n\n  const clearForm = () => {\n    setBody('');\n    setEmail('');\n    setName('');\n  };\n\n  const onSubmit = async(event) => {\n    event.preventDefault();\n\n    await addComment(userName, email, body, selectedPost);\n    await getComments(selectedPost)\n      .then(editComment);\n\n    clearForm();\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={onSubmit}\n    >\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          className=\"NewCommentForm__input\"\n          value={userName}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"email\"\n          placeholder=\"Your email\"\n          className=\"NewCommentForm__input\"\n          value={email}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          placeholder=\"Type comment here\"\n          className=\"NewCommentForm__input\"\n          value={body}\n          onChange={handleChange}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n\nNewCommentForm.propTypes = {\n  selectedPost: PropTypes.number.isRequired,\n  editComment: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { removeComment, getComments } from '../../api/api';\n\nexport function Comments({ comment, selectedPost, editComment }) {\n  const handleDeleteComment = async() => {\n    await removeComment(comment.id);\n    await getComments(selectedPost)\n      .then(editComment);\n  };\n\n  return (\n    <>\n      <li className=\"PostDetails__list-item\">\n        <button\n          type=\"button\"\n          className=\"PostDetails__remove-button button\"\n          onClick={handleDeleteComment}\n        >\n          X\n        </button>\n        <p>{comment.body}</p>\n      </li>\n    </>\n  );\n}\n\nComments.propTypes = {\n  comment: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    body: PropTypes.string.isRequired,\n  }).isRequired,\n  editComment: PropTypes.func.isRequired,\n  selectedPost: PropTypes.number.isRequired,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { NewCommentForm } from '../NewCommentForm';\nimport './PostDetails.scss';\nimport { getDateilPosts, getComments } from '../../api/api';\nimport { Loader } from '../Loader/Loader';\nimport { Comments } from '../Comments/Comments';\n\nexport const PostDetails = ({ selectedPost }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDisable, setIsDiseble] = useState(true);\n  const [details, setDetails] = useState(null);\n  const [comment, setComment] = useState(null);\n\n  const onDisable = () => setIsDiseble(!isDisable);\n  const editComment = useCallback(setComment, []);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const getPostDetailsData = async() => {\n      const [detailsData, commentData] = await Promise.all([\n        getDateilPosts(selectedPost),\n        getComments(selectedPost),\n      ]);\n\n      setDetails(detailsData);\n      setComment(commentData);\n      setIsLoading(false);\n    };\n\n    getPostDetailsData();\n  }, [selectedPost]);\n\n  return (\n    <div className=\"PostDetails\">\n      {(isLoading && selectedPost) && <Loader />}\n      {details && (\n        <>\n          <h2>Post details:</h2>\n\n          <section className=\"PostDetails__post\">\n            <p>{details.title}</p>\n          </section>\n\n          <section className=\"PostDetails__comments\">\n            <button\n              type=\"button\"\n              className=\"button\"\n              onClick={onDisable}\n            >\n              {`Hide ${comment && comment.length} comments`}\n            </button>\n\n            <ul\n              className=\"PostDetails__list\"\n              hidden={isDisable}\n            >\n              {comment && comment.map(item => (\n                <Comments\n                  key={item.id}\n                  comment={item}\n                  selectedPost={selectedPost}\n                  editComment={editComment}\n                />\n              ))}\n            </ul>\n          </section>\n\n          <section>\n            <div className=\"PostDetails__form-wrapper\">\n              <NewCommentForm\n                selectedPost={selectedPost}\n                editComment={editComment}\n              />\n            </div>\n          </section>\n        </>\n      )}\n    </div>\n  );\n};\n\nPostDetails.propTypes = {\n  selectedPost: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function UserSelect({ selectedUser, onSelectUser }) {\n  return (\n    <label>\n      Select a user: &nbsp;\n\n      <select\n        className=\"App__user-selector\"\n        value={selectedUser}\n        onChange={onSelectUser}\n      >\n        <option value=\"0\">All users</option>\n        <option value=\"1\">Leanne Graham</option>\n        <option value=\"2\">Ervin Howell</option>\n        <option value=\"3\">Clementine Bauch</option>\n        <option value=\"4\">Patricia Lebsack</option>\n        <option value=\"5\">Chelsey Dietrich</option>\n        <option value=\"6\">Mrs. Dennis Schulist</option>\n        <option value=\"7\">Kurtis Weissnat</option>\n        <option value=\"8\">Nicholas Runolfsdottir V</option>\n        <option value=\"9\">Glenna Reichert</option>\n        <option value=\"10\">Leanne Graham</option>\n      </select>\n    </label>\n  );\n};\n\nUserSelect.propTypes = {\n  selectedUser: PropTypes.number.isRequired,\n  onSelectUser: PropTypes.func.isRequired,\n};\n","import React, { useState, useCallback } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { UserSelect } from './components/UserSelect/UserSelect';\n\nconst App = () => {\n  const [selectedUser, setSelectedUser] = useState(0);\n  const [selectedPost, setSelectedPost] = useState(0);\n\n  const selectUser = useCallback((event) => {\n    setSelectedUser(+event.target.value);\n  }, []);\n\n  const selectedUSerId = (id) => {\n    setSelectedPost(id);\n  };\n\n  const resetUSer = () => {\n    setSelectedPost(0);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <UserSelect\n          selectedUser={selectedUser}\n          onSelectUser={selectUser}\n        />\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            selectedUser={selectedUser}\n            selectedUSerId={selectedUSerId}\n            selectedPost={selectedPost}\n            resetUSer={resetUSer}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <PostDetails\n            selectedPost={selectedPost}\n          />\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}